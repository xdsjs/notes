> 2017年1月30日 周一
>
> 本文章仅为《C++ Primer 中文版》读书笔记，所有版权归原书所有。

### 基本内置类型

- 算数类型（arithmetic type）
  - 字符、整数、布尔值和浮点数
- 空类型（void）
  - 不对应具体的值，仅用于一些特殊场合

##### 整数类型（字符、整数、布尔值）

> 布尔值（bool）的值是真（true）或者假（false）

> 基本字符类型为char，一个char的空间应确保可以存放机器基本字符集中任意字符对应的数字值。也就是说，一个char的大小和一个机器字节一样。其他字符用于扩展字符集，如wchar_t、char16\_t、char32\_t。wchar_t类型用于确保可以存放机器最大扩展字符集中任意一个字符。字符char16\_t和char32\_t则为Unicode字符集服务。

> 除字符和布尔类型之外，其他整数用于表示（可能）不同尺寸的整数。C++语言规定一个int至少和一个short一样大，一个long至少和一个int一样大，一个long long至少和一个long一样大。其中，数据类型long long是在C++11中新定义的。

##### 浮点数类型

> 浮点型可表示单精度、双精度和扩展精度之。C++标准制定了一个浮点数有效位数的最小值。通常float以一个字（32比特）来表示，double以两个字（64比特）来表示。long double以3个或4个字（96或128比特）来表示。一般来说，float和double分别有7和16个有效位。long double则常常用于有特殊浮点需求的硬件。

##### 带符号和不带符号类型

> 类型int、short、long和long long都是带符号的，通过在这些类型名前添加unsigned就可得到无符号类型。

> 字符型比较特殊，分为三种，char、unsigned char和signed char，其中char和signed char并不一样，具体表现形式由编译器决定。

##### 如何选择类型

- 当明确知道数值不可能为负时，选用无符号类型。
- 使用int执行整数运算。实际应用中，short通常显得太小，long一般和int范围相同。当超出int范围时，选用long long。
- 算数表达式中不要选用char或bool，只有在存放字符和布尔值时才使用它们。
- 执行浮点运算选用double，因为float通常精度不够而且双精度浮点数和单精度浮点数的计算代价相差无几。

### 类型转换

- 当把一个非布尔类型的算数值赋给布尔类型时，初始值为0，则结果为false，否则为true。
- 当把布尔值赋给非布尔类型时，初始值为false，则结果为0；初始值为true，则结果为1。
- 当把浮点数赋给整数类型时，进行近似处理，结果值将仅保留浮点值中小数点之前的部分。
- 当把整数赋给浮点数类型时，小数部分记为0，若整数所占空间超过了浮点类型的容量，则经度可能有损失。
- 当赋给无符号类型一个超出它表示范围的值时，结果是初始值对无符号类型表示数值取模后的余数。
- 当赋给带符号类型一个超出它表示范围的值时，结果是未定义的（undefined），此时程序可能崩溃。

### 字面值常量

- 整型和浮点型字面值
- 字符和字符串字面值
  - char型字面值 'a'
  - 字符串字面值 "a"
- 转意序列
- 指定字面值的类型（添加制定的前缀或后缀）
  - 详情见原书P37表2.2
- 布尔字面值和指针字面值

> 实际上是由常量类型构成的数组。编译器会在每一个字符串的结尾处添加一个空字符（'\0'），因此字符串字面值的实际长度应该比他的内容多一。
>
> 如果两个字符串的位置紧邻且仅由空格、缩进和换行符分隔。那么他们实际上是一个整体。

### 变量（variable）和对象（object）

>  变量（variable）提供一个具名的、可供程序操作的命名空间。每个变量都有其数据类型。决定了变量所占内存的大小和布局方式、该空间能存储的值得范围，以及变量能参与的运算。对于C++，变量（variable）和对象（object）一般可互换使用。
>
> 对象（object）指一块能存储数据并具有某种类型的内存空间。

### 变量声明和定义

> C++支持分离式编译（separate compilation）机制，该机制允许将程序分隔为若干个文件，每个文件可以独立编译。为支持分离式编译，C++将声明和定义区分开来，声明（declaration）	使得名字为程序所知。而定义（definition）负责创建与名字关联的实体。

##### 区别

- 变量声明规定了变量的名字和类型。在这一点上定义与之相同，此外，定义还申请存储空间。也可能为变量赋一个初始值。
- 如果想要声明一个变量而非定义它，就在变量名前添加关键字extern，并且不要显示地初始化变量。
  - extern int i; // 声明i而非定义i
  - int j; // 声明并定义j

### 标识符

> 由字母、数字、下划线组成，其中必须以字母和下划线开头。长度没有限制，字母对大小写敏感。

##### 变量命名规范

- 变量名要能体现实际含义
- 变量名一般用小写字母
- 自定义的类名一般用大写字母开头
- 如果标识符由多个单词组成，则单词间应有明显区分

### 作用域

> C++中的大多数作用域都以花括号分隔
>
> 同一个名字在不同的作用域中可能指向不同的实体。名字的有效区域始于名字的声明语句，以声明语句所在的作用域末端结束。







